##############################################
2012から2022/11までの１０年間の研究開発の成果
2022/11/20
##############################################

(仕事したり仕事辞めたりしながらコツコツ作りました。)



　成果１、double時間によるモーション滑らか再生
　　　　　姿勢データと姿勢データの間の時間の姿勢を計算して再生

　成果２、リターゲット数式の開発
　　　　　人型モデルに限らず　ジョイントとジョイントの対応を指定すれば　他のキャラクターのモーションを再生可能
　　　　　モデル側とモーション側で　ジョイントの向きが異なっていても　リターゲット可能
　　　　　モデル側とモーション側で　大きさが異なっていても　自動調整
　　　　　bvhファイルとRokokoモーションライブラリのfbxでテストしてOK

　成果３、物理シミュレーションとそのベイク
　　　　　bullet physicsという外部ライブラリを導入
　　　　　自動で全身に剛体をセットアップ
　　　　　(髪の毛の)ジョイント名をサーチして物理自動セットアップ
　　　　　VRoidの髪の毛のジョイント名にも対応して自動セットアップ
　　　　　bullet physicsの物理パラメータをGUIで設定可能　保存読み込み可能　メニューから複数設定切り替え可能
　　　　　物理再生は環境依存(処理が速いコンピュータの方が乱れない)ので　モーションにベイクすることも可能に

　成果４、算術ライブラリ
　　　　　DirectXのD3DXが無くても困らない程度の算術ライブラリを構築

　成果５，ブレないIK軸とマニピュレータ軸
　　　　　マニピュレータ軸をボーン軸にオートフィット
　　　　　マニピュレータ軸中心のブレないIK回転
　　　　　モーションを考慮し　かつ　マニピュレータのX軸をボーン軸にオートフィットし　かつ　IK中とIK後に軸がねじれない
　　　　　向きたい向きを向くIK回転処理の確立

　成果６，カスタムブラシ(ウェイトカーブを計算するプラグイン　SDK付き)に依る　フルフレームモーション編集機能
　　　　　既存の動きを壊さずに　調整したり　アクセントを付けたりすることが出来る
　　　　　モーションキャプチャはフルフレームモーションなので　それに対応するツール
　　　　　複数フレームを選択して　その範囲に対して　ブラシで盛る
　　　　　体が１８０度回転していく範囲に対して　足を開く編集をしても　足がクロスしないような数式を開発
　　　　　
　成果７、制限角度機能と設定簡易化
　　　　　既存モーションの可動範囲を　そのままモーションの制限角度に　１ボタンで設定
　　　　　制限角度無しのモーションを保持しながら　制限角度を施したモーションを再生
　　　　　制限角度付きのモーションとして確定する場合には　fbx出力時に　制限角度をベイクチェックボックスにチェック

　成果８，カスタムリグ機能
　　　　　マウス２軸入力それぞれに対して　倍率を掛けて　ジョイント３軸のうちどれかの軸を回転
　　　　　GUIにて設定可能
　　　　　リグからリグを倍率付きで呼ぶことも可能　例えば　手の甲のリグから　５個の指のリグを呼び出すことも可能
　　　　　
　成果９、コピー履歴機能
　　　　　アプリを終了しても消失しないコピー履歴
　　　　　コピー実行時に　種類や重要度指定やメモを追加可能に
　　　　　GUIによる　履歴選択と履歴検索機能
　　　　　コピーしたフレーム長と　ペーストするフレーム長が異なっていても　フィットするようにペースト
　　　　　EditMotを４つ並べて起動して　複雑なコピーペースト作業をすることも可能　EditMotC4.exe

　成果１０、高速プレビュー対応オイラーグラフ
　　　　　オイラーグラフの描画は３Dモデル描画よりも重いことが多い　プレビュー時表示を工夫することで　高速プレビュー

　成果１１、ファイルオープンラジオボタン履歴
　　　　　ファイルオープンダイアログに　オープン履歴をラジオボタン付きで並べることにより　スムーズにファイルをオープン

　成果１２、４KTV対応
　　　　　４K(4K解像度の)TV接続時に　ウインドウ大とウインドウ小を選択可能に
　　　　　ウインドウ大とウインドウ小に対して　それぞれ　GUIをレイアウト

　成果１３，SonyのPlayStation5用コントローラ　Dual Senceで操作可能に
　　　　　UFO表示によるマウス位置お知らせ機能付き

　成果１４，fbx入出力
　　　　　入出力ファイルとして業界互換ファイル(fbxファイル)を採用
　　　　　一般的開発ソフトであるところの UnityやMayaと連携可能
　　　　　fbxの仕様の内モーションに関わる部分に対して限定的対応
　　　　　バインドポーズ有無、ジョイントの向き指定などにも対応
　　　　　Rokokoモーションライブラリのfbxに対応
　　　　　リリースの際には出力ファイルを　MayaとUnityで読み込み再生可能であることを　毎回確認

　成果１５、パーシャル(部分的)アンドゥリドゥ
　　　　　モーションキャプチャファイルの中には１万フレームを越えるような大きなファイルもあるので　高速化
　　　　　選択範囲と編集部分だけに対して部分的にアンドゥリドゥをすることにより　ファイルの編集がスムーズに

　成果１６，トラブルシューティングメモ同梱
　　　　　使ってみて遭遇したトラブルへの対処法を忘れないようにメモにして同梱
　
　
　
　
　
既知の不具合と直近の予定

　　　不具合１、LimitEulチェックボックスのチェックのアンドゥ自体がアンドゥ用データとして保存されてしまい　アンドゥが先に進まなくなる

　　　不具合２、ToolWindowの初期化を実行しても　エンドジョイント(子供を持たないジョイント)の姿勢が初期化されない

　　　予定０、不具合１と不具合２に対する修正

　　　予定１、フレーム選択に関するコードのリファクタリング

　　　予定２、bvh2fbxの際のfbxファイルのボーン軸も　X軸に

　　　予定３、AVX対応とマルチスレッド時の効果テスト
